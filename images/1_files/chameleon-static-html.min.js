!function a(i,d,c){function s(t,e){if(!d[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=d[t]={exports:{}};i[t][0].call(o.exports,function(e){return s(i[t][1][e]||e)},o,o.exports,a,i,d,c)}return d[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.events=n.config=n.component=void 0;var r=i(e("./component")),o=i(e("./config")),a=i(e("./events"));function i(e){return e&&e.__esModule?e:{default:e}}n.component=r.default,n.config=o.default,n.events=a.default},{"./component":2,"./config":3,"./events":4}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.activate=n.create=void 0;var r,o=e("./events.js"),a=(r=o)&&r.__esModule?r:{default:r};function i(e){a.default.fire(e,"component.activate")}function d(e,t){try{e.outerHTML=t(JSON.parse(e.getAttribute("data-component-data")))}catch(e){window.console.log("Error rendering component: "+e)}}function c(n){var e;return(n=n||{}).contexts?e=function(e,t){d(e,n.contexts[t].template)}:n.template&&(e=function(e){d(e,n.template)}),{init:function(e){n.init&&n.init(e),e.setAttribute("data-init",!0)},render:e}}n.create=c,n.activate=i,n.default={create:c,activate:i}},{"./events.js":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,o=e("extend"),a=(r=o)&&r.__esModule?r:{default:r};var i=document.documentElement,d={breakpointType:null,overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:i.clientHeight,windowTopOffset:null,windowWidth:i.clientWidth};function c(e){for(var t=e.split("."),n=0,r=d;n<t.length;n++)r=r[t[n]];return r}d.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],n.default={getOption:c,inspect:function(){return d},setOption:function(e){(0,a.default)(d,e)},getBreakpoint:function(e){e=e||window.innerWidth;var t,n=c("breakpoints"),r=n.length;for(t=0;t<r;t++)if(e<n[t].width)return n[t-1].name;return n[r-1].name}}},{extend:10}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function s(e){return[].slice.call(e)}function t(t,e,n,r){if(r=r||{},t.addEventListener(e,n),t.dataEvents){var o=t.dataEvents[e];if(o)if(r.purgeEventData)for(;0<o.length;)n.call(t,{data:o.shift(),target:t});else o.forEach(function(e){n.call(t,{data:e,target:t})})}}function o(e,t,n){e.dataEvents=e.dataEvents||{},e.dataEvents[t]=e.dataEvents[t]||[],e.dataEvents[t].push(n)}var n="DOMContentLoaded";return{delegate:function(e,t,n,r,o){o=o||{},t=t.split(","),void 0===e.length&&(e=[e]),e.forEach||(e=s(e)),e.forEach(function(c){c.addEventListener(n,function(e){var d=[];t.forEach(function(e){var t,n,r,o,a,i;d=">"===e.substr(0,1)?(r=d,a=e,i=(i=s((o=c).querySelectorAll(a.substr(1)))).filter(function(e){return e.parentNode===o}),r.concat(i)):(t=c,n=e,d.concat(s(t.querySelectorAll(n))))}),function e(t,n,r,o,a,i){if(n!==r){var d=o.indexOf(n);-1!==d&&(a.call(o[d],t),i.preventDefault&&t.preventDefault()),e(t,n.parentNode,r,o,a,i)}else i.stopPropagation&&t.stopPropagation()}(e,e.target,c,d,r,o)})})},domReady:function(e){"complete"===document.readyState||"loaded"===document.readyState?(o(document,n),o(window,"load")):"interactive"===document.readyState&&o(document,n),document.addEventListener?t(document,n,e):t(window,"load",e)},fire:function(e,t,n){var r;n=n||{},document.createEvent?((r=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),r.data=n,e.dispatchEvent(r)):document.createEventObject&&((r=document.createEventObject()).data=n,e.fireEvent("on"+t,r)),o(e,t,n)},listen:t}}();n.default=r},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.nodeListToArray=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n[t]=e[t];return n},n.getBreakpoint=function(e){e=e||window.innerWidth;var t,n=o.config.getOption("breakpoints"),r=n.length;for(t=0;t<r;t++)if(e<n[t].width)return n[t-1].name;return n[r-1].name},n.debounce=function(r,o,a){var i;return function(){var e=this,t=arguments,n=a&&!i;clearTimeout(i),i=setTimeout(function(){i=null,a||r.apply(e,t)},o),n&&r.apply(e,t)}},n.ajax=function(e,t,n){if(!e||!t)return;n=n||{};try{var r=new XMLHttpRequest;r.open(n.method||"get",e,!n.sync),n.headers&&Object.keys(n.headers).forEach(function(e){r.setRequestHeader(e,n.headers[e])}),r.send(n.data||null),r.onload=function(){4===r.readyState&&(200===r.status?t(r):n.errorCallback&&n.errorCallback(r))}}catch(e){}},n.ajaxPromise=function(r,o){return new Promise(function(e,t){if(r){o=o||{};try{var n=new XMLHttpRequest;n.open(o.method||"get",r,!o.sync),o.headers&&Object.keys(o.headers).forEach(function(e){n.setRequestHeader(e,o.headers[e])}),n.send(o.data||null),n.onload=function(){4===n.readyState&&200===n.status?e(n):t(n)}}catch(e){t(e)}}else t("missing required parameters")})},n.getCookie=function(e){return(e=(document.cookie+";").match(new RegExp(e+"=.*;")))&&e[0].split(/=|;/)[1]};var o=e("@trinitymirrordigital/chameleon-core")},{"@trinitymirrordigital/chameleon-core":6}],6:[function(e,t,n){arguments[4][1][0].apply(n,arguments)},{"./component":7,"./config":8,"./events":9,dup:1}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.activate=n.create=void 0;var r,o=e("./events.js"),a=(r=o)&&r.__esModule?r:{default:r};function i(e,t){try{e.outerHTML=t(JSON.parse(e.getAttribute("data-component-data")))}catch(e){window.console.log("Error rendering component: "+e)}}n.create=function(n){var e;return(n=n||{}).contexts?e=function(e,t){i(e,n.contexts[t].template)}:n.template&&(e=function(e){i(e,n.template)}),{init:function(e){n.init&&n.init(e),e.setAttribute("data-init",!0)},render:e}},n.activate=function(e){a.default.fire(e,"component.activate")}},{"./events.js":9}],8:[function(e,t,n){arguments[4][3][0].apply(n,arguments)},{dup:3,extend:10}],9:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],10:[function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,u=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},m=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t,n=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return void 0===t||o.call(e,t)},f=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},v=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(i)return i(e,t).value}return e[t]};t.exports=function e(){var t,n,r,o,a,i,d=arguments[0],c=1,s=arguments.length,l=!1;for("boolean"==typeof d&&(l=d,d=arguments[1]||{},c=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});c<s;++c)if(null!=(t=arguments[c]))for(n in t)r=v(d,n),d!==(o=v(t,n))&&(l&&o&&(m(o)||(a=u(o)))?(i=a?(a=!1,r&&u(r)?r:[]):r&&m(r)?r:{},f(d,{name:n,newValue:e(l,i,o)})):void 0!==o&&f(d,{name:n,newValue:o}));return d}},{}],11:[function(e,t,n){"use strict";var u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(e("@trinitymirrordigital/chameleon-utilities/dist/js/core.js"));var r=e("@trinitymirrordigital/chameleon-core"),i=r.events,o=e("extend"),a=r.component,m={containsFooterNavigation:!1,containsSecondaryNavigation:!1,customLayouts:["baseLayout","phoneLargeUpwards","tabletPortraitUpwards"],domElements:{footerNavigationNode:null,headerObj:null,primaryNavigationNode:null,secondaryNavigationNode:null}};function d(e){var t=document.querySelector(".mod-header>nav."+e+" section");if(null!==t){var n=document.createElement("nav");n.classList.add(e),n.appendChild(t),m.domElements[e+"NavigationNode"]=n,m["contains"+(e.charAt(0).toUpperCase()+e.substr(1))+"Navigation"]=!0}}function c(){var e=m.domElements.headerObj.offsetWidth,t=document.querySelector(".mod-header>.primary nav").offsetWidth,n=document.getElementById("logo").offsetWidth,r=m.domElements.headerObj.querySelector(".social-sites"),o=r.offsetWidth,a=r.currentStyle||window.getComputedStyle(r);o+=parseInt(a.marginRight);var i=m.domElements.headerObj.querySelector(".search"),d=i?i.offsetWidth:0,c=document.getElementById("signin"),s=0;c&&(s=c.offsetWidth);var l=e-(n+s+o+d);l<=t&&function(e){var t=document.querySelector(".mod-header>.primary section>ul"),n=document.createElement("li");n.classList.add("has-children","more"),n.innerHTML="<a href='#'>More</a>";var r=document.createElement("ul");r.setAttribute("data-level",2),n.appendChild(r),t.appendChild(n);var o,a,i,d,c=u.nodeListToArray(document.querySelectorAll(".mod-header>.primary section>ul>li"));for(o=c.length-2;-1<o&&(d=document.querySelector(".mod-header>.primary nav").offsetWidth,e<=d);o--)(a=c[o]).classList.contains("has-children")&&(a.classList.remove("has-children"),a.classList.add("has-child-group")),i=(i=(i=a.innerHTML).replace(/data-level="2"/g,'data-level="3"')).replace(/has-children/g,"has-child-group"),a.innerHTML=i,r.insertBefore(a,r.firstChild)}(l)}function s(){var e=document.getElementById("header-dropdown");e&&document.body.removeChild(e),m.domElements.headerObj.removeAttribute("data-expanded")}function l(){var e,t,n=document.querySelector(".mod-header>.primary nav"),r=m.domElements.primaryNavigationNode.innerHTML;m.containsSecondaryNavigation&&(t=document.querySelector(".mod-header>.secondary"),e=m.domElements.secondaryNavigationNode.innerHTML),s();var o,a=u.getBreakpoint();-1!==m.customLayouts.indexOf(a)&&(m.containsSecondaryNavigation&&(e=r),(o=document.createElement("div")).setAttribute("id","header-dropdown"),o.setAttribute("data-smooth-scroll","data-smooth-scroll"),o.appendChild(m.domElements.primaryNavigationNode),m.containsSecondaryNavigation&&(m.domElements.secondaryNavigationNode.classList.add("publication-theme-border"),o.appendChild(m.domElements.secondaryNavigationNode)),m.containsFooterNavigation&&o.appendChild(m.domElements.footerNavigationNode),document.body.appendChild(o)),n.innerHTML=r,m.containsSecondaryNavigation&&(t.innerHTML=e),c(),document.getElementById("hamburger").classList.remove("active"),document.body.classList.remove("no-scroll"),i.fire(document,"header.reset.complete")}var f=a.create({init:function(){"undefined"!=typeof localDataOverrides&&localDataOverrides.hasOwnProperty("header")&&(m=o(m,localDataOverrides.header)),function(){m.domElements.headerObj=document.querySelector(".mod-header");var e=document.createElement("nav");e.classList.add("primary");var t=document.createElement("section");t.innerHTML=document.querySelector(".mod-header>.primary nav section").innerHTML,e.appendChild(t),m.domElements.primaryNavigationNode=e,d("secondary"),m.containsSecondaryNavigation&&m.domElements.headerObj.setAttribute("data-has-secondary-navigation",!0),d("footer")}(),function(){function e(){t.classList.remove("open"),document.querySelector(".mod-header .search-box").classList.add("hidden")}i.delegate(m.domElements.headerObj,'[data-level="1"]>.has-children',"mouseover",function(e){e.preventDefault();var t=this.querySelector("a");t.nextElementSibling.classList.add("open");var n=t.offsetLeft,r=t.offsetWidth,o=t.nextElementSibling,a=o.offsetWidth;o.style.left=Math.round(n+r/2-a/2)+"px"}),i.delegate(m.domElements.headerObj,".has-children","mouseout",function(e){e.preventDefault();var t=this.querySelector("a");t.nextElementSibling.classList.remove("open")}),i.delegate(m.domElements.headerObj,".has-child-group>a.toggle","click",function(e){e.preventDefault(),this.classList.toggle("expanded"),this.previousElementSibling.classList.toggle("open")}),i.delegate(document.body,"#header-dropdown .has-children .toggle","click",function(e){e.preventDefault();var t=this.parentNode,n=t.hasAttribute("data-children-visible");n?t.removeAttribute("data-children-visible"):t.setAttribute("data-children-visible",!0),this.classList.toggle("expanded")}),i.delegate(document.body,"#header-dropdown","mouseleave",function(){l()}),i.delegate(m.domElements.headerObj,".partner.click-track","data.impression.tracking",function(){var e=m.domElements.secondaryNavigationNode.querySelector(".partner.click-track"),t=m.domElements.primaryNavigationNode.querySelector(".partner.click-track");e&&e.setAttribute("data-tracked",!0),t&&t.setAttribute("data-tracked",!0)}),i.delegate(document.body,".secondary ul.click-track","data.impression.tracking",function(e){var t=m.domElements.secondaryNavigationNode.querySelector("."+e.target.className);t&&t.setAttribute("data-tracked",!0)}),document.getElementById("hamburger").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("header-dropdown");m.domElements.headerObj.hasAttribute("data-expanded")?m.domElements.headerObj.removeAttribute("data-expanded"):m.domElements.headerObj.setAttribute("data-expanded",!0),t.classList.toggle("active");var n=m.domElements.headerObj.querySelector("div.primary").getBoundingClientRect().bottom,r=window.innerHeight-n;t.style.top=n+"px",t.style.height=r+"px",document.body.classList.toggle("no-scroll")});var t=document.querySelector(".mod-header .search");t&&(t.querySelector("button").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.classList.toggle("open"),document.querySelector(".mod-header .search-box").classList.toggle("hidden")}),document.querySelector(".mod-header .search-box").addEventListener("click",function(e){e.stopPropagation()}),document.body.addEventListener("click",function(){e()}),document.querySelector("nav.primary").addEventListener("mouseover",function(){e()}))}(),window.orientation?window.addEventListener("orientationchange",u.debounce(function(){l()},1)):(window.addEventListener("resize.start",s),window.addEventListener("resize.stop",l)),l(),document.addEventListener("sso.loginbar.initialization",function(){l()}),document.addEventListener("weather.widget.initialization",function(){var e=m.domElements.primaryNavigationNode,t=m.domElements.secondaryNavigationNode;[{refNode:document.querySelector(".mod-header>.primary nav section"),sectionNode:e&&e.querySelector("section")},{refNode:document.querySelector(".mod-header>nav.secondary section"),sectionNode:t&&t.querySelector("section")}].forEach(function(e){var t=e.refNode&&e.refNode.firstChild;if(t&&t.classList.contains("partner")){var n=e.sectionNode&&e.sectionNode.firstChild;n&&!n.classList.contains("partner")&&e.sectionNode.insertBefore(t,n)}}),l()})}});t.exports=f},{"@trinitymirrordigital/chameleon-core":1,"@trinitymirrordigital/chameleon-utilities/dist/js/core.js":5,extend:10}],12:[function(e,t,n){"use strict";var r=e("@trinitymirrordigital/chameleon-core").events,o={header:e("./../header/js/header.js")};r.fire(window,"component.register",{components:o})},{"./../header/js/header.js":11,"@trinitymirrordigital/chameleon-core":1}]},{},[12]);
//# sourceMappingURL=chameleon-static-html.min.js.map