!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){var d=a("extend"),e=function(){function a(a){var b=a.split("."),c=0,d=e;for(c;c<b.length;c++)d=d[b[c]];return d}function b(a){d(e,a)}function c(){return e}var e={breakpointType:null,modsForInit:{},modules:{},modulesToIgnore:[],overlayActive:!1,resize:{active:!1,debounceTimer:200,interval:null},scroll:{active:!1,debounceTimer:50,interval:null},tapOrClickEvent:"click",throttleDateTime:null,timings:{debounce:250},windowHeight:document.documentElement.clientHeight,windowTopOffset:null,windowWidth:document.documentElement.clientWidth};return e.breakpoints=[{name:"baseLayout",width:-1},{name:"tabletPortraitUpwards",width:728},{name:"tabletLandscapeUpwards",width:1024},{name:"desktop",width:1240}],{getOption:a,inspect:c,setOption:b}}();b.exports=e},{extend:13}],2:[function(a,b,c){var d=a("../../../src/js/events.js");b.exports=function(){function a(){var a=m(),c="object"==typeof a;c&&a.hasOwnProperty("log")&&b()}function b(){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",window.TMCONFIG.frontendRoot+"/marwood/TM/scss/log.css"),document.querySelector("head").appendChild(a);var b=document.querySelector("BODY"),c="";c+='<div class="inner">',c+="  <h4>Event log</h4>",c+='  <a data-resize="maximize" href="#">Maximize</a>',c+='  <a class="active" data-resize="minimize" href="#">Minimize</a>',c+='  <a data-reset="" href="#">Reset</a>',c+='  <form action="" method="">',c+="    <fieldset>",c+="      <ul>",c+="        <li>",c+='          <label class="filter-information" for="log-information"></label>',c+="          <strong>0</strong>",c+='          <input id="log-information" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-warning" for="log-warning"></label>',c+="          <strong>0</strong>",c+='          <input id="log-warning" type="checkbox" checked="checked">',c+="        </li>",c+="        <li>",c+='          <label class="filter-error" for="log-error"></label>',c+="          <strong>0</strong>",c+='          <input type="checkbox" checked="checked" id="log-error">',c+="        </li>",c+="        <li>",c+='          <label class="filter-override" for="log-override"></label>',c+="          <strong>0</strong>",c+='          <input id="log-override" type="checkbox" checked="checked">',c+="        </li>",c+="      </ul>",c+="    </fieldset>",c+="  </form>",c+="</div>",c+="<ol></ol>";var d=document.createElement("div");if(d.setAttribute("id","log"),d.setAttribute("class","minimize show-information show-warning show-error show-override"),d.innerHTML=c,b.appendChild(d),n.showViewportDimensions){var e=document.createElement("p");e.setAttribute("id","viewport-dimensions"),b.appendChild(e),e.innerHTML=window.innerWidth+"px",window.addEventListener("resize",function(){e.innerHTML=window.innerWidth+"px"})}h("[log.create]"),n.enabled=!0,f()}function c(a){d.delegate(a,"INPUT","click",function(b){var c=this.getAttribute("id").replace("log-",""),d=a.classList.contains("show-"+c)?"visible":"hidden";switch(d){case"visible":a.classList.remove("show-"+c);break;case"hidden":a.classList.add("show-"+c)}})}function e(a){var b=a.querySelector("OL");d.delegate(a,"A[data-resize]","click",function(c){c.preventDefault();var d=this.getAttribute("data-resize");a.classList.remove("minimize"),a.classList.remove("maximize"),a.classList.add(d),b.style.height=n.heights[d],l({message:"[log.eventsInit]: "+d+"d",type:"information"})})}function f(){var a=document.getElementById("log");l({message:"[log.eventsInit]",type:"information"}),c(a),d.delegate(document.getElementById("log"),"A[data-reset]","click",function(a){a.preventDefault(),g()}),e(a)}function g(){var a=document.querySelector("#log OL");a.innerHTML="",a.parentNode.setAttribute("class","minimize show-information show-warning show-error");var b,c=document.querySelectorAll("#log FORM STRONG");for(b=0;b<c.length;b++)c[b].innerHTML="0",c[b].nextElementSibling.setAttribute("checked",!0);l({message:"[log.emptyLog]: debug logger emptied",type:"information"})}function h(a){l({message:a,type:"information"})}function i(a){l({message:a,type:"warning"})}function j(a){l({message:a,type:"error"})}function k(a){l({message:a,type:"override"})}function l(a){if(document.getElementById("log")){var b=document.querySelectorAll("#log OL LI").length,c=document.createElement("LI"),d=document.querySelector("#log OL LI"),e=document.createElement("STRONG");c.setAttribute("class","log-"+a.type),c.innerHTML=b+1+". "+a.message,e.innerHTML=a.type+"&nbsp;",c.appendChild(e),document.querySelector("#log OL").insertBefore(c,d);var f=document.getElementById("log-"+a.type).previousElementSibling,g=f.innerHTML;g++,f.innerHTML=g}}function m(){if(location.search){var a={};try{var b=location.search.replace("?","").split("&");b.forEach(function(b){var c=b.split("=");a[c[0]]=c[1]})}catch(c){j("[log.parseQueryString]: error parsing querystring, description="+c.description)}return a}}var n={enabled:!1,heights:{maximize:"500px",minimize:"250px"},showViewportDimensions:!0};return{emptyLog:g,error:j,information:h,init:a,options:n,override:k,warning:i}}()},{"../../../src/js/events.js":5}],3:[function(a,b,c){b.exports={component:a("./component.js"),config:a("../../config/src/js/config.js"),events:a("./events.js"),log:a("../../log/src/js/log.js")}},{"../../config/src/js/config.js":1,"../../log/src/js/log.js":2,"./component.js":4,"./events.js":5}],4:[function(a,b,c){function d(a){f.fire(a,"component.activate")}function e(a){function b(b){a.init&&a.init(b),b.setAttribute("data-init",!0)}return a=a||{},{init:b}}var f=a("./events.js");b.exports={create:e,activate:d}},{"./events.js":5}],5:[function(a,b,c){b.exports=function(){function a(a){return[].slice.call(a)}function b(a,b,c,d){if(d=d||{},a.addEventListener(b,c),a.dataEvents){var e=a.dataEvents[b];if(e)if(d.purgeEventData)for(;e.length>0;)c.call(a,{data:e.shift(),target:a});else e.forEach(function(b){c.call(a,{data:b,target:a})})}}function c(a,b,c){a.dataEvents=a.dataEvents||{},a.dataEvents[b]=a.dataEvents[b]||[],a.dataEvents[b].push(c)}function d(){"complete"===document.readyState||"loaded"===document.readyState?(c(document,g),c(window,"load")):"interactive"===document.readyState&&c(document,g)}function e(a,b,d){var e;d=d||{},document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(b,!0,!0),e.data=d,a.dispatchEvent(e)):document.createEventObject&&(e=document.createEventObject(),e.data=d,a.fireEvent("on"+b,e)),c(a,b,d)}function f(a){d(),document.addEventListener?b(document,g,a):b(window,"load",a)}var g="DOMContentLoaded",h=function(){function b(a,c,d,e,f,g){if(c===d)return void(g.stopPropagation&&a.stopPropagation());var h=e.indexOf(c);h!==-1&&(f.call(e[h],a),g.preventDefault&&a.preventDefault()),b(a,c.parentNode,d,e,f,g)}function c(b,c,d){return b.concat(a(c.querySelectorAll(d)))}function d(b,c,d){var e=a(c.querySelectorAll(d.substr(1)));return e=e.filter(function(a){return a.parentNode===c}),b.concat(e)}function e(e,f,g,h,i){i=i||{},f=f.split(","),"undefined"==typeof e.length&&(e=[e]),e.forEach||(e=a(e)),e.forEach(function(a){a.addEventListener(g,function(e){var g=[];f.forEach(function(b){g=">"===b.substr(0,1)?d(g,a,b):c(g,a,b)}),b(e,e.target,a,g,h,i)})})}return e}();return{delegate:h,domReady:f,fire:e,listen:b}}()},{}],6:[function(a,b,c){"use strict";var d=a("extend"),e=a("./impr-tracker.js"),f=a("@trinitymirrordigital/chameleon-core").events,g=function(){function a(a){var b=a.scrollListing;a.isHorizontal?(a.scrollType="scrollLeft",a.containerDimension=a.scrollContainer.clientWidth,a.listingDimension=b.clientWidth,a.scrollLimit=a.listingDimension-a.containerDimension,a.leftArrowElement&&a.leftArrowElement.addEventListener("click",function(b){i(b,a)}),a.rightArrowElement&&a.rightArrowElement.addEventListener("click",function(b){h(b,a)})):(a.scrollType="scrollTop",a.containerDimension=a.scrollContainer.clientHeight,a.listingDimension=b.clientHeight),a.intervalDelay=Math.floor(1e3/a.frameRate),a.initialScroll=!0,l(null,a),a.scrollContainer.addEventListener("mouseover",function(b){g(b,a)}),a.scrollContainer.addEventListener("mouseout",function(b){l(b,a)}),a.scrollContainer.addEventListener("touchenter",function(b){g(b,a)}),a.scrollContainer.addEventListener("touchleave",function(b){l(b,a)})}function b(a){e.percInViewport(a.scrollContainer,null,1)?a.scrollStopped&&(c(a),l(null,a)):(a.scrollStopped=!0,c(a))}function c(a,b){k(a.interval,b),k(a.waitInterval,b)}function g(a,b){k(b.waitInterval,a),b.scrollStopped=!0,k(b.interval,a)}function h(a,b){var c=b.scrollContainer[b.scrollType],d=c+b.listItemWidth;d>b.listingDimension-(b.containerDimension+30)?(b.scrollContainer[b.scrollType]=c%b.listItemWidth,c=b.scrollContainer[b.scrollType],d=b.scrollContainer[b.scrollType]+b.listItemWidth):(j(b),c=b.scrollContainer[b.scrollType],d=c+b.listItemWidth),k(b.leftInterval),k(b.rightInterval),b.rightInterval=setInterval(function(){c+=b.manualScrollSpeed,c<d?b.scrollContainer[b.scrollType]=c:(b.scrollContainer[b.scrollType]=d,k(b.rightInterval))},b.intervalDelay),a&&a.preventDefault()}function i(a,b){j(b);var c=b.scrollContainer[b.scrollType],d=c-b.listItemWidth;c<b.listItemWidth&&(b.scrollContainer[b.scrollType]=b.listingDimension-(b.visibleElements-1)*b.listItemWidth-b.leftArrowElement.clientWidth,c=b.scrollContainer[b.scrollType],d=b.scrollContainer[b.scrollType]-b.listItemWidth),k(b.rightInterval),k(b.leftInterval),b.leftInterval=setInterval(function(){c-=b.manualScrollSpeed,c>d?b.scrollContainer[b.scrollType]=c:(b.scrollContainer[b.scrollType]=d,k(b.leftInterval))},b.intervalDelay),a&&a.preventDefault()}function j(a){var b=a.scrollContainer[a.scrollType],c=0;c=a.listItemWidth-b%a.listItemWidth-a.leftArrowElement.clientWidth,a.scrollContainer[a.scrollType]=a.scrollContainer[a.scrollType]+c}function k(a,b){a&&clearInterval(a),b&&b.preventDefault()}function l(a,b){b.waitInterval=setInterval(function(){(b.scrollStopped||b.initialScroll)&&(b.scrollContainer[b.scrollType]+=b.speed,m(a,b),b.initialScroll=!1,b.scrollStopped=!1)},b.autoScrollDelay)}function m(a,b){b.interval=setInterval(function(){b.scrollContainer[b.scrollType]<b.listingDimension-b.containerDimension?b.scrollContainer[b.scrollType]+=b.speed:b.scrollContainer[b.scrollType]=2*b.listItemWidth+b.manualScrollSpeed,n(b),b.extraScrolled=(b.scrollContainer[b.scrollType]+b.additionalWidth)%b.listItemWidth,b.extraScrolled<=b.speed&&(b.scrollContainer[b.scrollType]-=b.extraScrolled,b.scrollStopped=!0,k(b.interval),k(b.waitInterval),f.fire(document.body,"autoscroll.impression.tracking"),l(a,b))},b.intervalDelay),a&&a.preventDefault()}function n(a){a.isMobile?a.additionalWidth=Math.ceil((window.innerWidth-a.listItemWidth)/2):a.additionalWidth=a.leftArrowElement?a.leftArrowElement.clientWidth:0}function o(a){var b=a.scrollListing.childNodes,c=b.length-1,d=0,e=0,f=0;for(a.visibleElements=Math.ceil(window.innerWidth/a.listItemWidth)+1,a.visibleElements&&(e=Math.floor(a.visibleElements/2),f=a.visibleElements%2?e+1:e),d=0;d<e;d++)a.scrollListing.insertAdjacentElement("afterbegin",p(b[c].cloneNode(!0)));for(d=0;d<f;d++)a.scrollListing.insertAdjacentElement("beforeend",p(b[d+e].cloneNode(!0)));var g=a.listItemWidth*a.scrollListing.childNodes.length;a.scrollListing.style.width=g+"px"}function p(a){return a.removeAttribute("data-impr-tracking"),a}function q(c){var e={};d(e,r,c),e.isHorizontal=e.orientation.match(/horizontal/),e.scrollContainer=document.body.querySelector(e.containerSelector),e.scrollListing=e.scrollContainer.querySelector(e.listingSelector),e.autoScrollDelay=e.isDelayRequired?e.autoScrollDelay:0,e.isHorizontal&&(e.leftArrowElement=e.scrollContainer.querySelector(e.leftArrow),e.rightArrowElement=e.scrollContainer.querySelector(e.rightArrow),e.isLoop&&o(e)),a(e),f.listen(window,"scroll.stop",function(){b(e)})}var r={speed:1,manualScrollSpeed:50,isLoop:!0,frameRate:24,orientation:"vertical",isMobile:/iPhone|iPad|iPod|Android|BlackBerry|Windows Phone|webOS/i.test(window.navigator.userAgent),autoScrollDelay:4e3,isDelayRequired:!1};return{init:q}}();b.exports=g},{"./impr-tracker.js":7,"@trinitymirrordigital/chameleon-core":3,extend:13}],7:[function(a,b,c){"use strict";var d=a("@trinitymirrordigital/chameleon-core").events,e=function(){function a(a,b,c){return h=b?b.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight},i=a.getBoundingClientRect(),j=Math.min(i.right,h.right)-Math.max(i.left,h.left),k=Math.min(i.bottom,h.bottom)-Math.max(i.top,h.top),l=j/i.width*100,m=k/i.height*100,l>c&&m>c}function b(b){var d=null,f=null,g=!1;e(b),[].forEach.call(b.elements,function(e){d=e.getAttribute("data-container-selector"),d?(f=document.querySelector(d),g=a(e,f,b.visiblePerc),g&&a(e,null,b.visiblePerc)&&(g=!1,c(e))):a(e,null,b.visiblePerc)&&c(e)})}function c(a){var b={el:a};f(b),d.fire(a,"data.impression.tracking",b),a.setAttribute("data-tracked","true")}function e(a){a.elements=document.querySelectorAll(a.selector)}function f(a){var b=a.el.getAttribute("data-config");a.data=b&&JSON.parse(b)||!1}function g(a,c){var e={};e.selector=a||"[data-impr-tracking]:not([data-tracked])",e.visiblePerc=c||99,b(e),d.listen(window,"scroll.stop",function(){b(e)}),d.listen(window,"resize.stop",function(){b(e)}),d.listen(document.body,"autoscroll.impression.tracking",function(){b(e)}),d.delegate(document.body,"[data-scroll]","click",function(){b(e)})}var h,i,j,k,l,m;return{init:g,percInViewport:a}}();b.exports=e},{"@trinitymirrordigital/chameleon-core":3}],8:[function(a,b,c){"use strict";function d(a,b){function c(a,b){n||(p=!!b,n=a,o=m(),o&&e.information("[localStorage] initialized with key: ["+n+"]"))}function d(a,b){var c;if(o&&n){if("string"!=typeof a)return void e.error("[localStorage] key has to be a string");if(c=l()||{},c[a]=b,p)try{q.setItem(n,f.encrypt(JSON.stringify(c),r))}catch(d){e.warning("[localStorage] can't setItem "+d)}else try{q.setItem(n,JSON.stringify(c))}catch(d){e.warning("[localStorage] can't setItem "+d)}}}function g(a){var b,c=null;if(o&&n){b=l();try{c=JSON.parse(b[a])}catch(d){b&&(c=b[a])}return c}}function h(a){var b;if(o&&n){b=l();try{delete b[a],q.setItem(n,JSON.stringify(b))}catch(c){e.warning("Can't delete item:["+a+"] "+c)}}}function i(){var a;if(o&&n)return a=q.getItem(n),p&&(a=f.decrypt(a,r)),a}function j(a){o&&n&&(p&&(a=f.encrypt(a,r)),q.setItem(n,a))}function k(){o&&n&&(q.removeItem(n),n=null)}function l(){var a;if(o&&n){if(a=q.getItem(n),p&&a)try{a=f.decrypt(a,r)}catch(c){e.warning("[localStorage] can't decrypt data "+c),a=""}try{a=JSON.parse(a)}catch(c){e.warning("[localStorage] can't parse data (getData) "+c),a=b.expectObject?{}:null}return a}}function m(){var a="test";if("undefined"==typeof q)return!1;try{return q.setItem(a,a),q.removeItem(a),!0}catch(b){return!1}}var n,o,p,q=window.localStorage,r="window.onresize";return b=b||{},c(a,b.encrypted),{deleteItem:h,destroy:k,getItem:g,getRawData:i,setItem:d,setRawData:j}}var e=a("@trinitymirrordigital/chameleon-core").log,f=a("../../lib/tea.js");b.exports=d},{"../../lib/tea.js":10,"@trinitymirrordigital/chameleon-core":3}],9:[function(a,b,c){"use strict";var d=a("@trinitymirrordigital/chameleon-core").config,e=a("@trinitymirrordigital/chameleon-core").log,f=a("./localstore.js"),g=a("./impr-tracker.js"),h=a("./auto-scroll.js"),i=window.Promise&&window.Promise.toString().indexOf("[native code]")!==-1?window.Promise:a("promise-polyfill");b.exports=function(){function a(a){var b,c=[],d=a.length;for(b=0;b<d;b++)c[b]=a[b];return c}function b(a){var b=0,c=0,d=null;for(b=a.length-1;b>0;b--)c=Math.floor(Math.random()*(b+1)),d=a[b],a[b]=a[c],a[c]=d;return a}function c(a){a=a||window.innerWidth;var b,c=d.getOption("breakpoints"),e=c.length;for(b=0;b<e;b++)if(a<c[b].width)return c[b-1].name;return c[e-1].name}function j(a){return a.match(/mod-(\S+)/g)[0]}function k(a){return j(a).replace("mod-","")}function l(){return{left:(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0),top:(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}}function m(){return(new Date).getTime().toString()+Math.random().toString().replace(".","-")}function n(a,b,c){if(!a||!b)return void e.error("[utilities.xhr]: missing required pramaeters");c=c||{};try{var d=new XMLHttpRequest;d.open(c.method||"get",a,!c.sync),c.headers&&Object.keys(c.headers).forEach(function(a){d.setRequestHeader(a,c.headers[a])}),d.send(c.data||null),d.onload=function(){4===d.readyState&&(200===d.status?b(d):c.errorCallback&&c.errorCallback(d))}}catch(f){e.information("[utilities.ajax]: error retrieving "+a+", description="+f.description)}}function o(a,b){return new i(function(c,d){if(!a)return e.error("[xhr]: missing required parameters"),void d("missing required parameters");b=b||{};try{var f=new XMLHttpRequest;f.open(b.method||"get",a,!b.sync),b.headers&&Object.keys(b.headers).forEach(function(a){f.setRequestHeader(a,b.headers[a])}),f.send(b.data||null),f.onload=function(){4===f.readyState&&200===f.status?c(f):d(f)}}catch(g){e.information("[ajax]: error retrieving "+a+", description="+g.description),d(g)}})}function p(a,b,c){var d="jsonp"+Math.round(1000001*Math.random());a=a||"",b=b||"",c=c||function(){},"function"==typeof b&&(c=b,b="callback"),window[d]=function(a){c(a),delete window[d]},a+=a.indexOf("?")===-1?"?":"&";var e=document.createElement("script");e.setAttribute("src",a+b+"="+d),document.getElementsByTagName("head")[0].appendChild(e)}function q(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function r(a,b){return a.matches?a.matches(b):a.msMatchesSelector?a.msMatchesSelector(b):!!a.webkitMatchesSelector&&a.webkitMatchesSelector(b)}function s(a,b){for(;!r(a,b);){if(!a.parentNode)return null;a=a.parentNode}return a}function t(a){for(var b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}function u(a){if(a){var b,c,d=a.querySelectorAll("script"),e=d.length;for(b=0;b<e;b++)c=document.createElement("script"),d[b].hasAttribute("src")?c.setAttribute("src",d[b].src):c.innerText=d[b].innerText,d[b].parentNode.replaceChild(c,d[b])}}function v(a){return(a=(document.cookie+";").match(new RegExp(a+"=.*;")))&&a[0].split(/=|;/)[1]}function w(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null}function x(a,b,c,d,e,f){var g=window[a];d=d||100,e=e||2e4/d,f=f||0,b&&(!g&&f<e?(f+=1,setTimeout(function(){x(a,b,c,d,e,f)},d)):c&&"function"==typeof window[c][b]?window[c][b]():"function"==typeof b&&b())}function y(){var a="test",b=window.sessionStorage;try{return b.setItem(a,"1"),b.removeItem(a),!0}catch(c){return!1}}function z(a){var b=void 0,c=void 0,d=new i(function(a,d){b=a,c=d});if(d.resolve=b,d.reject=c,a){var e=setTimeout(function(){d.reject("timeout expired")},a);d.then(function(){clearTimeout(e)})}return d}return{ajax:n,ajaxPromise:o,debounce:q,defer:z,executeWhenAvailable:x,findAncestor:s,getBreakpoint:c,getCookie:v,getElementIndex:t,getModClass:j,getModType:k,getQueryParam:w,jsonp:p,log:e,matches:r,nodeListToArray:a,processScripts:u,shuffleArray:b,uid:m,windowOffsets:l,stringify:function(){return""},promise:i,LocalStore:f,sessionStorageEnabled:y,ImprTracker:g,autoScroll:h}}()},{"./auto-scroll.js":6,"./impr-tracker.js":7,"./localstore.js":8,"@trinitymirrordigital/chameleon-core":3,"promise-polyfill":11}],10:[function(a,b,c){(function(a){"use strict";var c={};c.encrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.utf8Encode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;d=c.encode(d,e);var f=c.longsToStr(d);return f.base64Encode()},c.decrypt=function(a,b){if(a=String(a),b=String(b),0==a.length)return"";var d=c.strToLongs(a.base64Decode()),e=c.strToLongs(b.utf8Encode().slice(0,16));d.length;d=c.decode(d,e);var f=c.longsToStr(d);return f=f.replace(/\0+$/,""),f.utf8Decode()},c.encode=function(a,b){a.length<2&&(a[1]=0);for(var c,d,e=a.length,f=a[e-1],g=a[0],h=2654435769,i=Math.floor(6+52/e),j=0;i-- >0;){j+=h,d=j>>>2&3;for(var k=0;k<e;k++)g=a[(k+1)%e],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(j^g)+(b[3&k^d]^f),f=a[k]+=c}return a},c.decode=function(a,b){for(var c,d,e=a.length,f=a[e-1],g=a[0],h=2654435769,i=Math.floor(6+52/e),j=i*h;0!=j;){d=j>>>2&3;for(var k=e-1;k>=0;k--)f=a[k>0?k-1:e-1],c=(f>>>5^g<<2)+(g>>>3^f<<4)^(j^g)+(b[3&k^d]^f),g=a[k]-=c;j-=h}return a},c.strToLongs=function(a){for(var b=new Array(Math.ceil(a.length/4)),c=0;c<b.length;c++)b[c]=a.charCodeAt(4*c)+(a.charCodeAt(4*c+1)<<8)+(a.charCodeAt(4*c+2)<<16)+(a.charCodeAt(4*c+3)<<24);return b},c.longsToStr=function(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=String.fromCharCode(255&a[c],a[c]>>>8&255,a[c]>>>16&255,a[c]>>>24&255);return b.join("")},"undefined"==typeof String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),"undefined"==typeof String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(a){return this}}),"undefined"==typeof String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if("undefined"!=typeof a)return new a(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),"undefined"==typeof String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if("undefined"!=typeof a)return new a(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),b.exports=c}).call(this,a("buffer").Buffer)},{buffer:14}],11:[function(a,b,c){(function(a){!function(c){function d(){}function e(a,b){return function(){a.apply(b,arguments)}}function f(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(a,this)}function g(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):(a._handled=!0,void n(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?h:i)(b.promise,a._value);var d;try{d=c(a._value)}catch(e){return void i(b.promise,e)}h(b.promise,d)}))}function h(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof f)return a._state=3,a._value=b,void j(a);if("function"==typeof c)return void l(e(c,b),a)}a._state=1,a._value=b,j(a)}catch(d){i(a,d)}}function i(a,b){a._state=2,a._value=b,j(a)}function j(a){2===a._state&&0===a._deferreds.length&&n(function(){a._handled||o(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)g(a,a._deferreds[b]);a._deferreds=null}function k(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function l(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||(c=!0,i(b,a))})}catch(d){if(c)return;c=!0,i(b,d)}}var m=setTimeout,n="function"==typeof a&&a||function(a){m(a,0)},o=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};f.prototype["catch"]=function(a){return this.then(null,a)},f.prototype.then=function(a,b){var c=new this.constructor(d);return g(this,new k(a,b,c)),c},f.all=function(a){var b=Array.prototype.slice.call(a);return new f(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0===--e&&a(b)}catch(i){c(i)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},f.resolve=function(a){return a&&"object"==typeof a&&a.constructor===f?a:new f(function(b){b(a)})},f.reject=function(a){return new f(function(b,c){c(a)})},f.race=function(a){return new f(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},f._setImmediateFn=function(a){n=a},f._setUnhandledRejectionFn=function(a){o=a},"undefined"!=typeof b&&b.exports?b.exports=f:c.Promise||(c.Promise=f)}(this)}).call(this,a("timers").setImmediate)},{timers:18}],12:[function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");c===-1&&(c=b);var d=c===b?0:4-c%4;return[c,d]}function e(a){var b=d(a),c=b[0],e=b[1];return 3*(c+e)/4-e}function f(a,b,c){return 3*(b+c)/4-c}function g(a){for(var b,c=d(a),e=c[0],g=c[1],h=new m(f(a,e,g)),i=0,j=g>0?e-4:e,k=0;k<j;k+=4)b=l[a.charCodeAt(k)]<<18|l[a.charCodeAt(k+1)]<<12|l[a.charCodeAt(k+2)]<<6|l[a.charCodeAt(k+3)],h[i++]=b>>16&255,h[i++]=b>>8&255,h[i++]=255&b;return 2===g&&(b=l[a.charCodeAt(k)]<<2|l[a.charCodeAt(k+1)]>>4,h[i++]=255&b),1===g&&(b=l[a.charCodeAt(k)]<<10|l[a.charCodeAt(k+1)]<<4|l[a.charCodeAt(k+2)]>>2,h[i++]=b>>8&255,h[i++]=255&b),h}function h(a){return k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[63&a]}function i(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16&16711680)+(a[f+1]<<8&65280)+(255&a[f+2]),e.push(h(d));return e.join("")}function j(a){for(var b,c=a.length,d=c%3,e=[],f=16383,g=0,h=c-d;g<h;g+=f)e.push(i(a,g,g+f>h?h:g+f));return 1===d?(b=a[c-1],e.push(k[b>>2]+k[b<<4&63]+"==")):2===d&&(b=(a[c-2]<<8)+a[c-1],e.push(k[b>>10]+k[b>>4&63]+k[b<<2&63]+"=")),e.join("")}c.byteLength=e,c.toByteArray=g,c.fromByteArray=j;for(var k=[],l=[],m="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,p=n.length;o<p;++o)k[o]=n[o],l[n.charCodeAt(o)]=o;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],13:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===e.call(a)},i=function(a){if(!a||"[object Object]"!==e.call(a))return!1;var b=d.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return"undefined"==typeof f||d.call(a,f)},j=function(a,b){f&&"__proto__"===b.name?f(a,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):a[b.name]=b.newValue},k=function(a,b){if("__proto__"===b){if(!d.call(a,b))return;if(g)return g(a,b).value}return a[b]};b.exports=function l(){var a,b,c,d,e,f,g=arguments[0],m=1,n=arguments.length,o=!1;for("boolean"==typeof g&&(o=g,g=arguments[1]||{},m=2),(null==g||"object"!=typeof g&&"function"!=typeof g)&&(g={});m<n;++m)if(a=arguments[m],null!=a)for(b in a)c=k(g,b),d=k(a,b),g!==d&&(o&&d&&(i(d)||(e=h(d)))?(e?(e=!1,f=c&&h(c)?c:[]):f=c&&i(c)?c:{},j(g,{name:b,newValue:l(o,f,d)})):"undefined"!=typeof d&&j(g,{name:b,newValue:d}));return g}},{}],14:[function(a,b,c){(function(b){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()}catch(b){return!1}}function e(a){if(a>X)throw new RangeError('The value "'+a+'" is invalid for option "size"');var c=new Uint8Array(a);return c.__proto__=b.prototype,c}function b(a,b,c){if("number"==typeof a){if("string"==typeof b)throw new TypeError('The "string" argument must be of type string. Received type number');return i(a)}return f(a,b,c)}function f(a,c,d){if("string"==typeof a)return j(a,c);if(ArrayBuffer.isView(a))return k(a);if(null==a)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(T(a,ArrayBuffer)||a&&T(a.buffer,ArrayBuffer))return l(a,c,d);if("number"==typeof a)throw new TypeError('The "value" argument must not be of type number. Received type number');var e=a.valueOf&&a.valueOf();if(null!=e&&e!==a)return b.from(e,c,d);var f=m(a);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof a[Symbol.toPrimitive])return b.from(a[Symbol.toPrimitive]("string"),c,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function g(a){if("number"!=typeof a)throw new TypeError('"size" argument must be of type number');if(a<0)throw new RangeError('The value "'+a+'" is invalid for option "size"')}function h(a,b,c){return g(a),a<=0?e(a):void 0!==b?"string"==typeof c?e(a).fill(b,c):e(a).fill(b):e(a)}function i(a){return g(a),e(a<0?0:0|n(a))}function j(a,c){if("string"==typeof c&&""!==c||(c="utf8"),!b.isEncoding(c))throw new TypeError("Unknown encoding: "+c);var d=0|p(a,c),f=e(d),g=f.write(a,c);return g!==d&&(f=f.slice(0,g)),f}function k(a){for(var b=a.length<0?0:0|n(a.length),c=e(b),d=0;d<b;d+=1)c[d]=255&a[d];return c}function l(a,c,d){if(c<0||a.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<c+(d||0))throw new RangeError('"length" is outside of buffer bounds');var e;return e=void 0===c&&void 0===d?new Uint8Array(a):void 0===d?new Uint8Array(a,c):new Uint8Array(a,c,d),e.__proto__=b.prototype,e}function m(a){if(b.isBuffer(a)){var c=0|n(a.length),d=e(c);return 0===d.length?d:(a.copy(d,0,0,c),d)}return void 0!==a.length?"number"!=typeof a.length||U(a.length)?e(0):k(a):"Buffer"===a.type&&Array.isArray(a.data)?k(a.data):void 0}function n(a){if(a>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|a}function o(a){return+a!=a&&(a=0),b.alloc(+a)}function p(a,c){if(b.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||T(a,ArrayBuffer))return a.byteLength;if("string"!=typeof a)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);var d=a.length,e=arguments.length>2&&arguments[2]===!0;if(!e&&0===d)return 0;for(var f=!1;;)switch(c){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return O(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*d;case"hex":return d>>>1;case"base64":return R(a).length;default:if(f)return e?-1:O(a).length;c=(""+c).toLowerCase(),f=!0}}function q(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"latin1":case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function r(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function s(a,c,d,e,f){if(0===a.length)return-1;if("string"==typeof d?(e=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,U(d)&&(d=f?0:a.length-1),d<0&&(d=a.length+d),d>=a.length){if(f)return-1;d=a.length-1}else if(d<0){if(!f)return-1;d=0}if("string"==typeof c&&(c=b.from(c,e)),b.isBuffer(c))return 0===c.length?-1:t(a,c,d,e,f);if("number"==typeof c)return c=255&c,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(a,c,d):Uint8Array.prototype.lastIndexOf.call(a,c,d):t(a,[c],d,e,f);throw new TypeError("val must be string, number or Buffer")}function t(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;
if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,k===-1?0:j-k)){if(k===-1&&(k=j),j-k+1===i)return k*g}else k!==-1&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(U(h))return g;a[c+g]=h}return g}function v(a,b,c,d){return S(O(b,a.length-c),a,c,d)}function w(a,b,c,d){return S(P(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return S(R(b),a,c,d)}function z(a,b,c,d){return S(Q(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?V.fromByteArray(a):V.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=Y)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=Y));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=N(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,c,d,e,f,g){if(!b.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>f||c<g)throw new RangeError('"value" argument is out of bounds');if(d+e>a.length)throw new RangeError("Index out of range")}function J(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function K(a,b,c,d,e){return b=+b,c>>>=0,e||J(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),W.write(a,b,c,d,23,4),c+4}function L(a,b,c,d,e){return b=+b,c>>>=0,e||J(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),W.write(a,b,c,d,52,8),c+8}function M(a){if(a=a.split("=")[0],a=a.trim().replace(Z,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function N(a){return a<16?"0"+a.toString(16):a.toString(16)}function O(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function P(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function Q(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function R(a){return V.toByteArray(M(a))}function S(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function T(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}function U(a){return a!==a}var V=a("base64-js"),W=a("ieee754");c.Buffer=b,c.SlowBuffer=o,c.INSPECT_MAX_BYTES=50;var X=2147483647;c.kMaxLength=X,b.TYPED_ARRAY_SUPPORT=d(),b.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),b.poolSize=8192,b.from=function(a,b,c){return f(a,b,c)},b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,b.alloc=function(a,b,c){return h(a,b,c)},b.allocUnsafe=function(a){return i(a)},b.allocUnsafeSlow=function(a){return i(a)},b.isBuffer=function(a){return null!=a&&a._isBuffer===!0&&a!==b.prototype},b.compare=function(a,c){if(T(a,Uint8Array)&&(a=b.from(a,a.offset,a.byteLength)),T(c,Uint8Array)&&(c=b.from(c,c.offset,c.byteLength)),!b.isBuffer(a)||!b.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===c)return 0;for(var d=a.length,e=c.length,f=0,g=Math.min(d,e);f<g;++f)if(a[f]!==c[f]){d=a[f],e=c[f];break}return d<e?-1:e<d?1:0},b.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(a,c){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return b.alloc(0);var d;if(void 0===c)for(c=0,d=0;d<a.length;++d)c+=a[d].length;var e=b.allocUnsafe(c),f=0;for(d=0;d<a.length;++d){var g=a[d];if(T(g,Uint8Array)&&(g=b.from(g)),!b.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(e,f),f+=g.length}return e},b.byteLength=p,b.prototype._isBuffer=!0,b.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)r(this,b,b+1);return this},b.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)r(this,b,b+3),r(this,b+1,b+2);return this},b.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)r(this,b,b+7),r(this,b+1,b+6),r(this,b+2,b+5),r(this,b+3,b+4);return this},b.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?B(this,0,a):q.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(a){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===b.compare(this,a)},b.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(a+=" ... "),"<Buffer "+a+">"},b.prototype.compare=function(a,c,d,e,f){if(T(a,Uint8Array)&&(a=b.from(a,a.offset,a.byteLength)),!b.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===c&&(c=0),void 0===d&&(d=a?a.length:0),void 0===e&&(e=0),void 0===f&&(f=this.length),c<0||d>a.length||e<0||f>this.length)throw new RangeError("out of range index");if(e>=f&&c>=d)return 0;if(e>=f)return-1;if(c>=d)return 1;if(c>>>=0,d>>>=0,e>>>=0,f>>>=0,this===a)return 0;for(var g=f-e,h=d-c,i=Math.min(g,h),j=this.slice(e,f),k=a.slice(c,d),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},b.prototype.includes=function(a,b,c){return this.indexOf(a,b,c)!==-1},b.prototype.indexOf=function(a,b,c){return s(this,a,b,c,!0)},b.prototype.lastIndexOf=function(a,b,c){return s(this,a,b,c,!1)},b.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(c)?(c>>>=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"latin1":case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;b.prototype.slice=function(a,c){var d=this.length;a=~~a,c=void 0===c?d:~~c,a<0?(a+=d,a<0&&(a=0)):a>d&&(a=d),c<0?(c+=d,c<0&&(c=0)):c>d&&(c=d),c<a&&(c=a);var e=this.subarray(a,c);return e.__proto__=b.prototype,e},b.prototype.readUIntLE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},b.prototype.readUIntBE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},b.prototype.readUInt8=function(a,b){return a>>>=0,b||H(a,1,this.length),this[a]},b.prototype.readUInt16LE=function(a,b){return a>>>=0,b||H(a,2,this.length),this[a]|this[a+1]<<8},b.prototype.readUInt16BE=function(a,b){return a>>>=0,b||H(a,2,this.length),this[a]<<8|this[a+1]},b.prototype.readUInt32LE=function(a,b){return a>>>=0,b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},b.prototype.readUInt32BE=function(a,b){return a>>>=0,b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},b.prototype.readIntLE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},b.prototype.readIntBE=function(a,b,c){a>>>=0,b>>>=0,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},b.prototype.readInt8=function(a,b){return a>>>=0,b||H(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},b.prototype.readInt16LE=function(a,b){a>>>=0,b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},b.prototype.readInt16BE=function(a,b){a>>>=0,b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},b.prototype.readInt32LE=function(a,b){return a>>>=0,b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},b.prototype.readInt32BE=function(a,b){return a>>>=0,b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},b.prototype.readFloatLE=function(a,b){return a>>>=0,b||H(a,4,this.length),W.read(this,a,!0,23,4)},b.prototype.readFloatBE=function(a,b){return a>>>=0,b||H(a,4,this.length),W.read(this,a,!1,23,4)},b.prototype.readDoubleLE=function(a,b){return a>>>=0,b||H(a,8,this.length),W.read(this,a,!0,52,8)},b.prototype.readDoubleBE=function(a,b){return a>>>=0,b||H(a,8,this.length),W.read(this,a,!1,52,8)},b.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){var e=Math.pow(2,8*c)-1;I(this,a,b,c,e,0)}var f=1,g=0;for(this[b]=255&a;++g<c&&(f*=256);)this[b+g]=a/f&255;return b+c},b.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b>>>=0,c>>>=0,!d){var e=Math.pow(2,8*c)-1;I(this,a,b,c,e,0)}var f=c-1,g=1;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=a/g&255;return b+c},b.prototype.writeUInt8=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,1,255,0),this[b]=255&a,b+1},b.prototype.writeUInt16LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2},b.prototype.writeUInt16BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2},b.prototype.writeUInt32LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,4294967295,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a,b+4},b.prototype.writeUInt32BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,4294967295,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},b.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b>>>=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},b.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b>>>=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},b.prototype.writeInt8=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=255&a,b+1},b.prototype.writeInt16LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2},b.prototype.writeInt16BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2},b.prototype.writeInt32LE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,2147483647,-2147483648),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4},b.prototype.writeInt32BE=function(a,b,c){return a=+a,b>>>=0,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},b.prototype.writeFloatLE=function(a,b,c){return K(this,a,b,!0,c)},b.prototype.writeFloatBE=function(a,b,c){return K(this,a,b,!1,c)},b.prototype.writeDoubleLE=function(a,b,c){return L(this,a,b,!0,c)},b.prototype.writeDoubleBE=function(a,b,c){return L(this,a,b,!1,c)},b.prototype.copy=function(a,c,d,e){if(!b.isBuffer(a))throw new TypeError("argument should be a Buffer");if(d||(d=0),e||0===e||(e=this.length),c>=a.length&&(c=a.length),c||(c=0),e>0&&e<d&&(e=d),e===d)return 0;if(0===a.length||0===this.length)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(d<0||d>=this.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),a.length-c<e-d&&(e=a.length-c+d);var f=e-d;if(this===a&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(c,d,e);else if(this===a&&d<c&&c<e)for(var g=f-1;g>=0;--g)a[g+c]=this[g+d];else Uint8Array.prototype.set.call(a,this.subarray(d,e),c);return f},b.prototype.fill=function(a,c,d,e){if("string"==typeof a){if("string"==typeof c?(e=c,c=0,d=this.length):"string"==typeof d&&(e=d,d=this.length),void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!b.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===a.length){var f=a.charCodeAt(0);("utf8"===e&&f<128||"latin1"===e)&&(a=f)}}else"number"==typeof a&&(a=255&a);if(c<0||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;c>>>=0,d=void 0===d?this.length:d>>>0,a||(a=0);var g;if("number"==typeof a)for(g=c;g<d;++g)this[g]=a;else{var h=b.isBuffer(a)?a:b.from(a,e),i=h.length;if(0===i)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(g=0;g<d-c;++g)this[g+c]=h[g%i]}return this};var Z=/[^+\/0-9A-Za-z-_]/g}).call(this,a("buffer").Buffer)},{"base64-js":12,buffer:14,ieee754:15}],15:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],16:[function(a,b,c){"use strict";function d(a,b){if(a&&"object"==typeof a){if("string"==typeof b&&""!==b){var c=b.split(".");return c.reduce(function(a,b){return a&&a[b]},a)}return"number"==typeof b?a[b]:a}return a}function e(a,b,c){if(c=c||{},a&&"object"==typeof a){if("string"==typeof b&&""!==b){var d=b.split(".");return d.reduce(function(a,b,d,e){return d==e.length-1?c.own?!(!a||!a.hasOwnProperty(b)):!!(null!==a&&"object"==typeof a&&b in a):a&&a[b]},a)}return"number"==typeof b&&b in a}return!1}function f(a,b,c){if(a&&"object"==typeof a){if("string"==typeof b&&""!==b){var d=b.split(".");return d.reduce(function(a,b,e){return a[b]=a[b]||{},d.length==e+1&&(a[b]=c),a[b]},a)}return"number"==typeof b?(a[b]=c,a[b]):a}return a}function g(a,b,c,d){if(d=d||{},a&&"object"==typeof a){if("string"==typeof b&&""!==b){var e,f=b.split("."),g=!1;return e=!!f.reduce(function(a,b){return g=g||a===c||!!a&&a[b]===c,a&&a[b]},a),d.validPath?g&&e:g}return!1}return!1}b.exports={set:f,get:d,has:e,hasOwn:function(a,b,c){return this.has(a,b,c||{own:!0})},isIn:g}},{}],17:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],18:[function(a,b,c){(function(b,d){function e(a,b){this._id=a,this._clearFn=b}var f=a("process/browser.js").nextTick,g=Function.prototype.apply,h=Array.prototype.slice,i={},j=0;c.setTimeout=function(){return new e(g.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new e(g.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof b?b:function(a){var b=j++,d=!(arguments.length<2)&&h.call(arguments,1);return i[b]=!0,f(function(){i[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof d?d:function(a){delete i[a]}}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":17,timers:18}],19:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return F["default"].getQueryParameter(a)||""}function f(){e(I)===K&&window.console.log.apply(window.console,arguments)}function g(a){var b=e(J).split(",");b.indexOf(L)===-1&&b.indexOf(a)===-1||window.console.log.apply(window.console,arguments)}function h(a){var b=F["default"].getQueryParameter(a)||(window.TMCONFIG||{})[a];return f("[INFO] Getting TM Config parameter "+a,b),b}function i(a){var b=F["default"].getQueryParameter("publicSectionParams."+a)||(h("publicSectionParams")||{})[a];return f("[INFO] Getting TM public section parameter "+a,b),b}function j(a){return a.indexOf(".")>-1?a.toLowerCase().replace(/[\.-](.)/g,function(a,b){return b.toUpperCase()}):a}function k(a){var b=j(a),c=D["default"].get(window,"TMFeatures."+b);void 0!==c&&g(M,"[INFO] Feature data (from TMFeatures) for "+b+" : ",c);var d=i(a);return void 0!==d&&(c=d,g(M,"[INFO] Feature data (from section param) for "+b+" : ",c)),g(M,"[INFO] Feature data (from resolved sources) for "+b+" : ",c),c}function l(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=b,d=k(a);return void 0!==d&&(c="true"===String(d),g(M,"[INFO] Feature flag "+a+" enabled?: "+c)),g(M,"[INFO] Feature "+a+" "+(c?" is":" is not")+" enabled"),c}function m(a){return"true"===F["default"].getQueryParameter(a)?(g(M,"[INFO] Feature flag "+a+" enabled URL query parameter"),!0):"true"===((window.TMCONFIG||{}).features||{})[a]?(g(M,"[INFO] Feature flag "+a+" enabled in config features section parameter"),!0):"true"===i(a)?(g(M,"[INFO] Feature flag "+a+" enabled in public section parameter"),!0):(g(M,"[INFO] Feature flag "+a+" not enabled"),!1)}function n(a){var b=document.getElementById(a);return b?JSON.parse(b.getAttribute("content")):void f("[ERROR] The injection config element cannot be found on the page. [Func: getFullConfig]")}function o(a){var b=document.getElementById(a);if(!b)return void f("[INFO] The adjustments config element cannot be found on the page. [Func: getAdjustments]");try{return JSON.parse(b.getAttribute("content"))}catch(c){f("[ERROR] JSON parse of adjustments config failed: "+c+" [Func: getAdjustments]")}}function p(a,b,c){var d=a[b];if(!c)return f("[ERROR] No adjustments found for ",d," [Func: processAdjustment]"),a;if(!d.allowAdjustments)return f("[ERROR] Adjustments not allowed for ",d," [Func: processAdjustment]"),a;if(c.remove){if(d.allowAdjustments.remove)return f("[INFO] Config item removed: ",d," [Func: processAdjustment]"),a.splice(b,1);f("[ERROR] Remove adjustment not allowed for ",d," [Func: processAdjustment]")}return a}function q(a,b){if(!b)return a;var c=void 0,d=void 0;return Object.keys(b).forEach(function(e){b[e].forEach(function(b){d=a[e],c=d.findIndex(function(a){return a.componentType===b.componentType&&a.name===b.name}),c>-1&&(d=p(d,c,b.adjustments))})}),a}function r(){window.location.href.indexOf("configDebug=on")>-1&&window.console.error.apply(window.console,arguments)}function s(a){return JSON.parse(a.getAttribute("data-config"))}function t(a){var b=void 0;return f("[INFO] Getting config elements for breakpoint "+a),N&&N[a]?(b=N[a],f("[INFO] Got config elements",b),b):(f("[ERROR] The Breakpoint "+a+" is not defined in config. [Func: getElementsForBreakpoint]"),[])}function u(a,b){var c=void 0;if(!N||!N[a])return f("[ERROR] The breakpoint "+a+" is not defined in the config. [Func: getElementsByTypeForBreakpoint]"),[];var d=t(a);return Array.isArray(d)?(f("[INFO] The slots for breakpoint are ",d),c=d.filter(function(a){return a.componentType===b})||[],f("[INFO] The filtered slots for type "+b+" are ",d),c):(f("[ERROR] The slots supplied are not an Array. [Func: getElementsByTypeForBreakpoint]"),[])}function v(){return t(H["default"].getBreakpoint())}function w(a){var b=[],c=void 0;for(var d in N)N.hasOwnProperty(d)&&Array.isArray(N[d])&&(c=u(d,a),Array.prototype.push.apply(b,c));return b}function x(a){return u(H["default"].getBreakpoint(),a)}function y(a,b,c){var d=((window.TMCONFIG||{})[b||"features"]||{})[a],e=H["default"].getQueryParam(a),f=null!==e?e:d;return f&&("int"===c&&(f=parseInt(f)),"float"===c&&(f=parseFloat(f)),"string"===c&&(f=f.toString()),"bool"===c&&(f="true"===f)),f}function z(){if(O)return O;var a=document.getElementById("scriptConfig");if(!a)return void f("[WARN] The script config element cannot be found on the page. [Func: getScriptConfig]");try{return JSON.parse(a.getAttribute("content"))}catch(b){f("[ERROR] Error returning script config: "+b)}}function A(a){var b=void 0,c=a.match(/^\/(.*?)\/([gim]*)$/);return b=c?new RegExp(c[1],c[2]):new RegExp(a)}function B(a){N=n(a),N=q(N,o(a+"-adjustments")),O=z(O)}Object.defineProperty(c,"__esModule",{value:!0}),c.log=f,c.logFeature=g,c.getTmConfigParam=h,c.getPublicSectionParam=i,c.getFeatureData=k,c.isFeatureEnabled=l,c.getFeatureValue=y;var C=a("nested-property"),D=d(C),E=a("./pageUtilities.js"),F=d(E),G=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),H=d(G),I="configDebug",J="featureDebug",K="on",L="all",M="features",N=void 0,O=void 0;B("advertisingConfig"),c["default"]={adjustConfig:q,err:r,getAllElementsByType:w,getConfig:s,getElementsByTypeForBreakpoint:u,getElementsByTypeForCurrentBreakpoint:x,getElementsForBreakpoint:t,getElementsForCurrentBreakpoint:v,getFeatureData:k,getFullConfig:n,getPublicSectionParam:i,getScriptConfig:z,getTmConfigParam:h,init:B,isFeatureEnabled:l,getConfigParam:m,log:f,logFeature:g,stringToRegex:A,getFeatureValue:y}},{"./pageUtilities.js":21,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9,"nested-property":16}],20:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js"),f=d(e),g=a("./configUtilities.js"),h=d(g),i=a("nested-property"),j=d(i),k=f["default"].events,l=function(){function a(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function b(){return window.performance?window.performance.now():Date.now()}function c(){var a=window.performance.timing;return{dns:a.domainLookupEnd-a.domainLookupStart,request:a.responseStart-a.requestStart,response:a.responseEnd-a.responseStart,tcp:a.connectEnd-a.connectStart}}function d(a,b,c){return Math.round(((a||0)*c+b)/(c+1))}function e(a,b,c,e,f){var g=window.commercialData.performanceReport.consolidated,h=b,i=b,j=1,k=b,l=c,m=c,n=0,o=c,p=e,q=window.performance&&c>0,r=e;if(g[a]){var s=g[a].data;r=s.viewable,k=s.totalConnectTime,j=s.numberOfComponents+1,i=s.maxConnectTime,n=s.numberOfComponents,i=Math.max(i,b),k+=b,h=k/j,p=n*r+e,r=p/j,g[a]&&q&&(o=s.totalEndTime,m=s.maxEndTime,m=Math.max(m,c),o+=c,l=o/j)}else g[a]={data:{}};g[a].data.connectTime=h,g[a].data.totalConnectTime=k,g[a].data.maxConnectTime=i,g[a].data.numberOfComponents=j,g[a].data.viewable=r,Object.keys(f).forEach(function(b){b.indexOf("To")!==-1&&(g[a].data[b]=d(g[a].data[b],f[b],n))}),q&&(g[a].data.averageEndTime=l,g[a].data.maxEndTime=m,g[a].data.totalEndTime=o)}function f(a,b){var c=window.commercialData.performanceReport.consolidated,d=b,e=void 0,f=void 0;c[a]&&(d=c[a].data.viewable,e=c[a].data.numberOfComponents,f=e*d+b,d=f/e),c[a].data.viewable=d}function g(b){var c=b.dataset,d=c.type,f=parseInt(c.responseStart),g=parseInt(c.responseEnd),h=parseInt(c.requested),i=void 0,j=a(b.id),k=parseInt((g-f).toFixed(2)),l=c.viewable?1:0,m=Math.round(h-f),o=Math.round(g-h);return i={connectTime:k,responseEnd:g,responseStart:f,viewable:l,startToInjected:f,startToRequested:h,injectedToRequested:m,injectedToReceived:k,requestedToReceived:o,startToReceived:g},Object.keys(c).forEach(function(a){if("timer"===a.substr(0,5)){var b=parseInt(c[a]);i["startTo"+a.substr(5)]=b,i["requestedTo"+a.substr(5)]=Math.round(b-h),i[a.substr(5,1).toLowerCase()+a.substr(6)+"ToReceived"]=Math.round(g-b)}}),window.commercialData.performanceReport.components[j]={data:i},e(d,k,window.performance?g:0,l,i),n(),window.commercialData}function i(a){var b=a.dataset.viewable?1:0;m(a.id,"viewable",b),f(a.dataset.type,b)}function m(b,c,d){var e=a(b);return window.commercialData.performanceReport.components[e].data[c]=d,n(),window.commercialData}function n(){var a={commercialData:window.commercialData};window.TMDATA?window.TMDATA.update(a):k.listen(document.body,"dataLayer.ready",function(b){b.data.update(a)})}function o(a,c,d){var e=d?d:b();return a?(a.setAttribute("data-response-start",e),void a.setAttribute("data-type",c)):void h["default"].log("[ERROR] The element to set timing was not found on the page.")}function p(a,c){return a.setAttribute("data-timer-"+c,b()),a}function q(a){return a?(a.setAttribute("data-response-end",b()),void(E||g(a))):void h["default"].log("[ERROR] The element to set timing was not found on the page.")}function r(a,c){var d=c?c:b();return a?void l.setPerformanceReport(a+".data-response-start",d):void h["default"].log("[ERROR] The path to set timing was not found.")}function s(a){if(!a)return void h["default"].log("[ERROR] The path to set timing was not found.");var c=b();l.setPerformanceReport(a+".data-response-end",c);var d=j["default"].get(window.commercialData.performanceReport[a],"dataResponseStart"),e=parseInt((c-d).toFixed(2));l.setPerformanceReport(a+".data-response-total",e)}function t(a){z("adblocker."+(a.data.adblockerDetector||"enabled"),a.data.adblockerEnabled),a.data&&a.data.adblockerTracking&&k.fire(window,"analytics.track",a.data)}function u(a){var b=void 0;return a=a||(window.TMDATA||{}).access,a&&"function"==typeof a&&(b=a("article.attributes.objectType")||a("page.attributes.pageType")),b}function v(a){var b=a.data.access;z("url",b("page.info.url")),z("page-type",u(b)),z("section",b("page.attributes.subSectionOne")),z("sub-section",b("page.attributes.subSectionTwo"))}function w(){k.listen(window,"breakpointchange",x),k.listen(window,"adblocker.detected",t),k.listen(document.body,"dataLayer.ready",v)}function x(){E=!0}function y(b,c,d){var e=b.dataset.type,f=window.commercialData.metrics,g=e+".data."+a(b.id)+"."+c,h=e+".data."+c,i=j["default"].get(f.components,g),k=j["default"].get(f.consolidated,h);i||(i=j["default"].set(f.components,g,0)),k||(k=j["default"].set(f.consolidated,h,0)),j["default"].set(f.components,g,i+d),j["default"].set(f.consolidated,h,k+d),n()}function z(b,c){j["default"].set(window.commercialData.info,a(b),c),n()}function A(b){var c=j["default"].get(window.commercialData.info,a(b));return c}function B(b,c){j["default"].set(window.commercialData.performanceReport.scriptTimers,a(b),c),n()}function C(b,c){j["default"].set(window.commercialData.performanceReport,a(b),c),n()}function D(){E=!1,window.commercialData=window.commercialData||{performanceReport:{consolidated:{},components:{},scriptTimers:{}},metrics:{consolidated:{},components:{}},info:{}},w()}var E=!1;return D(),{finaliseElementTiming:q,finaliseDatalayerTiming:s,getPageType:u,getPerformanceStats:c,getPerformanceTime:b,init:D,initialiseDatalayerTiming:r,initialiseElementTiming:o,performanceTimeReport:g,toCamelCase:a,updateViewability:i,setScriptTimer:B,setCustomTimer:p,setInfo:z,getInfo:A,setMetric:y,setPerformanceReport:C}}();c["default"]=l},{"./configUtilities.js":19,"@trinitymirrordigital/chameleon-core/src/js/chameleon-core.js":3,
"nested-property":16}],21:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./configUtilities.js"),f=d(e),g=a("@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js"),h=d(g),i=function(){function a(){var a=window.TMDATA.access("page.info.uhid");return a?f["default"].log("Got uhid from Data Layer"):f["default"].err("uhid not present in Data Layer"),a}function b(){return window.location.search}function c(a,c){var d=c?c.substring(c.indexOf("?")):b(),e=new RegExp("[?&]"+a+"=([^&]*)").exec(d);return e&&decodeURIComponent(e[1].replace(/\+/g," "))}function d(){var a="";if(document.referrer){var b=document.createElement("a");b.href=document.referrer,a=b.hostname}return a}function e(){var a=h["default"].getCookie("GS_GROUP");return"1"===a?"UK":"ROW"}function g(a){for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "===f.charAt(0);)f=f.substring(1);if(0===f.indexOf(b))return f.substring(b.length,f.length)}return""}return{getGeoRegion:e,getUHID:a,getQueryParameter:c,getReferrerDomain:d,getCookie:g}}();c["default"]=i},{"./configUtilities.js":19,"@trinitymirrordigital/chameleon-utilities/dist/js/utilities.js":9}],22:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=g["default"].getFeatureValue("manualReconsent"),b=void 0,c=!1;a=parseInt(a);var d=a?a:0;d&&((0,j.getCookie)(l)?(b=parseInt((0,j.getCookie)(m)),b?b!==d&&(g["default"].logFeature(k,"[INFO] Changing consent version number:","Version change: From version "+b+" to version "+d+"."),c=!0,r(d)):(g["default"].logFeature(k,"[INFO] Initialising for the user with a monitor cookie, no consent cookie exists yet:","Initializing user with monitor cookie version "+b+"."),c=!0,r(d))):(p(m,n,d),c=!0)),s(c),t(d)}Object.defineProperty(c,"__esModule",{value:!0}),c.init=e;var f=a("../../scriptsCore/js/configUtilities"),g=d(f),h=a("../../scriptsCore/js/dataLayerUtilities"),i=d(h),j=a("@trinitymirrordigital/chameleon-utilities"),k="Consent audit",l="euconsent",m="reach_mrcv",n=3900,o=["eupubconsent","_cmpBlockedVendorsHash","_cmpRepromptOptions","googlepersonalization",l,"CaptifyConsentVendors"],p=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",e=new Date;e.setTime(e.getTime()+24*b*60*60*1e3),document.cookie=a+"="+c+";expires="+e.toUTCString()+" ;path= "+d},q=function(a){document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=."+window.location.hostname},r=function(a){var b=g["default"].getFeatureValue("consentCookies"),c=b?b.split(","):o;c.forEach(function(a){q(a)}),p(m,n,a)},s=function(a){i["default"].setInfo("consent-action.reconsent",a)},t=function(a){i["default"].setInfo("consent-action.mrcv",a)};c["default"]={init:e}},{"../../scriptsCore/js/configUtilities":19,"../../scriptsCore/js/dataLayerUtilities":20,"@trinitymirrordigital/chameleon-utilities":9}],23:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("./forceReconsent.js"),f=d(e);f["default"].init()},{"./forceReconsent.js":22}]},{},[23]);
//# sourceMappingURL=runForceReconsent.min.js.map